<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>银行数据分析系统 -- 数据导入</title>
    <link rel="stylesheet" type="text/css" href="libs/css/bootstrap.min.css">
</head>

<body>
    <div class="container">
        <div class="form-group ">
            <h3 style="margin-top:100px;">本地文件上传</h3>
            <input style="margin-top:50px;" type="file" id="fileInput"/>
        </div>
        <h3 class="help-block" style="margin-top:80px;">选择银行类型</h3>
        <div class="col-lg-8">
            <div class="checkbox" style="margin-top:30px;">
                <div class="col-lg-3">
                    <label>
                        <input type="checkbox"> 福田银行
                    </label>
                </div>
                <div class="col-lg-3">
                    <label>
                        <input type="checkbox"> 工商银行
                    </label>
                </div>
                <div class="col-lg-3">
                    <label>
                        <input type="checkbox"> 广大银行
                    </label>
                </div>
                <div class="col-lg-3">
                    <label>
                        <input type="checkbox"> 广发银行
                    </label>
                </div>
            </div>
        </div>
        <div class="col-lg-8">
            <div class="checkbox" style="margin-top:30px;">
                <div class="col-lg-3">
                    <label>
                        <input type="checkbox"> 华夏银行
                    </label>
                </div>
                <div class="col-lg-3">
                    <label>
                        <input type="checkbox"> 建设银行
                    </label>
                </div>
                <div class="col-lg-3">
                    <label>
                        <input type="checkbox"> 交通银行
                    </label>
                </div>
                <div class="col-lg-3">
                    <label>
                        <input type="checkbox"> 民生银行
                    </label>
                </div>
            </div>
        </div>
        <div class="col-lg-8">
            <button type="submit" id="submit" style="margin-top:100px; float:right" class="btn btn-default col-lg-2" >导入</button>
        </div>
    </div>
</body>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"> </script>
    <script>
        $("#submit").click(function () {
            var formData = new FormData();//初始化一个FormData对象
            formData.append("file", $("#fileInput")[0].files[0]);//将文件塞入FormData
            $.ajax({
                url: "http://localhost:1613/test/api/import/upload",
                type: "POST",
                data: formData,
                processData: false,  // 告诉jQuery不要去处理发送的数据
                contentType: false,   // 告诉jQuery不要去设置Content-Type请求头
                success: function (responseText) {
                    alert(responseText.message);
                }
            });
        });
    </script>

</html>